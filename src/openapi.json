{
  "openapi": "3.0.3",
  "info": {
    "title": "Farm Management API",
    "description": "A comprehensive RESTful API for poultry farm management system. This API provides endpoints for managing birds, egg collections, feed inventory, medicine records, user management, and comprehensive reporting.\n\n## Features\n- **Authentication & Authorization**: Secure Firebase-based authentication with role-based access control\n- **Bird Management**: Track bird health, production, and inventory\n- **Egg Collection**: Record and analyze egg production data\n- **Inventory Management**: Manage feed and medicine inventory with alerts\n- **Reporting & Analytics**: Generate comprehensive reports and statistics\n- **Data Export**: Export data in various formats (PDF, CSV)\n\n## Authentication\nMost endpoints require authentication using a Bearer token. Obtain a token by logging in at `/auth/login`.\n\n## User Roles\n- **admin**: Full system access\n- **manager**: Farm-level management access\n- **worker**: Basic data entry and viewing access",
    "version": "1.0.0",
    "contact": {
      "name": "Farm Management API Support",
      "email": "support@farmmanagement.com",
      "url": "https://farmmanagement.com/support"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "termsOfService": "https://farmmanagement.com/terms"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api",
      "description": "Development server",
      "variables": {}
    },
    {
      "url": "https://api.farmmanagement.com/api",
      "description": "Production server",
      "variables": {}
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication and authorization endpoints"
    },
    {
      "name": "Users",
      "description": "User management endpoints"
    },
    {
      "name": "Birds",
      "description": "Bird management and health tracking"
    },
    {
      "name": "Collections",
      "description": "Egg collection and production tracking"
    },
    {
      "name": "Feed",
      "description": "Feed inventory and consumption management"
    },
    {
      "name": "Medicine",
      "description": "Medicine records and vaccination schedules"
    },
    {
      "name": "Statistics",
      "description": "Analytics, statistics, and performance metrics"
    },
    {
      "name": "Reports",
      "description": "Report generation and export"
    },
    {
      "name": "Dashboard",
      "description": "Dashboard overview and summaries"
    },
    {
      "name": "Upload",
      "description": "File upload endpoints"
    },
    {
      "name": "Data Export",
      "description": "Data export in various formats (PDF, CSV)"
    },
    {
      "name": "Data Backup",
      "description": "Data backup and restore operations (Admin only)"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "required": ["id", "email", "name", "role", "farmId"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique user identifier",
            "example": "user_1234567890_abc123"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User email address",
            "example": "admin@farmmanagement.com"
          },
          "name": {
            "type": "string",
            "description": "User display name",
            "example": "System Administrator"
          },
          "phone": {
            "type": "string",
            "description": "User phone number",
            "example": "+1234567890"
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date",
            "description": "Date of birth (ISO format or dd/mm/yyyy)",
            "example": "1990-01-15"
          },
          "address": {
            "type": "string",
            "description": "User address",
            "example": "123 Farm Street, City, Country"
          },
          "bio": {
            "type": "string",
            "description": "User bio/description",
            "example": "Experienced farm manager"
          },
          "avatar": {
            "type": "string",
            "description": "Avatar/profile picture URL or path",
            "example": "/uploads/avatars/avatar-user_123-1234567890.jpg"
          },
          "role": {
            "type": "string",
            "enum": ["admin", "manager", "worker"],
            "description": "User role in the system",
            "example": "admin"
          },
          "farmId": {
            "type": "string",
            "description": "Associated farm ID",
            "example": "farm-123"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the user account is active",
            "example": true,
            "default": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Account creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "lastLogin": {
            "type": "string",
            "format": "date-time",
            "description": "Last login timestamp"
          }
        }
      },
      "Bird": {
        "type": "object",
        "required": ["id", "penId", "breed", "age", "quantity", "farmId"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Bird unique identifier",
            "example": "bird-123"
          },
          "penId": {
            "type": "string",
            "description": "Pen identifier where the bird is housed",
            "example": "pen-001"
          },
          "breed": {
            "type": "string",
            "description": "Bird breed or type",
            "example": "Lohmann Brown"
          },
          "age": {
            "type": "integer",
            "description": "Bird age in days",
            "minimum": 0,
            "example": 120
          },
          "quantity": {
            "type": "integer",
            "description": "Number of birds in this record",
            "minimum": 1,
            "example": 50
          },
          "healthStatus": {
            "type": "string",
            "enum": ["healthy", "sick", "quarantine"],
            "description": "Current health status of the bird",
            "example": "healthy"
          },
          "lastCheckup": {
            "type": "string",
            "format": "date",
            "description": "Date of last health checkup",
            "example": "2025-11-01"
          },
          "farmId": {
            "type": "string",
            "description": "Associated farm ID",
            "example": "farm-123"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the bird",
            "example": "Good health, regular feeding"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Record creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          }
        }
      },
      "EggCollection": {
        "type": "object",
        "required": ["id", "date", "shift", "pen", "quantity", "grade", "collector", "farmId"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Collection unique identifier",
            "example": "collection-123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Collection date (ISO format: YYYY-MM-DD)",
            "example": "2025-11-08"
          },
          "shift": {
            "type": "string",
            "enum": ["Morning", "Afternoon", "Evening"],
            "description": "Shift when collection occurred",
            "example": "Morning"
          },
          "pen": {
            "type": "string",
            "description": "Pen identifier where eggs were collected",
            "example": "A1"
          },
          "quantity": {
            "type": "integer",
            "description": "Total number of eggs collected",
            "minimum": 0,
            "example": 150
          },
          "grade": {
            "type": "string",
            "enum": ["AA", "A", "B", "C"],
            "description": "Egg grade classification",
            "example": "A"
          },
          "avgWeight": {
            "type": "string",
            "description": "Average weight of eggs (e.g., '58g')",
            "example": "58g"
          },
          "collector": {
            "type": "string",
            "description": "Name of the person who collected the eggs",
            "example": "John Doe"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the collection",
            "example": "Good quality eggs, no issues"
          },
          "farmId": {
            "type": "string",
            "description": "Associated farm ID",
            "example": "farm-123"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Record creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "collected": {
            "type": "integer",
            "description": "Legacy field for quantity (prefer 'quantity')",
            "minimum": 0,
            "example": 150
          },
          "quality": {
            "type": "string",
            "enum": ["AA", "A", "B", "C"],
            "description": "Legacy field for grade (prefer 'grade')",
            "example": "A"
          },
          "weight": {
            "type": "string",
            "description": "Legacy field for avgWeight (prefer 'avgWeight')",
            "example": "58g"
          },
          "collectedBy": {
            "type": "string",
            "description": "Legacy field for collector (prefer 'collector')",
            "example": "John Doe"
          },
          "broken": {
            "type": "integer",
            "description": "Number of broken eggs",
            "minimum": 0,
            "example": 2
          }
        }
      },
      "EggStats": {
        "type": "object",
        "properties": {
          "todayCollection": {
            "type": "integer",
            "description": "Total eggs collected today",
            "example": 1250
          },
          "todayChange": {
            "type": "string",
            "description": "Change from yesterday (e.g., '+5%' or '-2.3%')",
            "example": "+5%"
          },
          "weeklyTotal": {
            "type": "integer",
            "description": "Total eggs collected in the last 7 days",
            "example": 8750
          },
          "weeklyChange": {
            "type": "string",
            "description": "Change from previous week",
            "example": "+8%"
          },
          "monthlyTotal": {
            "type": "integer",
            "description": "Total eggs collected this month",
            "example": 37500
          },
          "monthlyChange": {
            "type": "string",
            "description": "Change from previous month",
            "example": "+12%"
          },
          "avgPerBird": {
            "type": "number",
            "description": "Average eggs per bird",
            "example": 2.5
          },
          "dailyProduction": {
            "type": "number",
            "description": "Average daily production (last 7 days)",
            "example": 1250.5
          },
          "productionChange": {
            "type": "string",
            "description": "Production change percentage",
            "example": "+5.2%"
          },
          "productionTrend": {
            "type": "string",
            "enum": ["up", "down", "stable"],
            "description": "Production trend direction",
            "example": "up"
          },
          "avgWeight": {
            "type": "string",
            "description": "Average weight per egg (e.g., '58g')",
            "example": "58g"
          },
          "gradeAARate": {
            "type": "string",
            "description": "Percentage of AA grade eggs",
            "example": "68%"
          }
        }
      },
      "ProductionChartData": {
        "type": "object",
        "properties": {
          "labels": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Date labels for chart",
            "example": ["2025-11-01", "2025-11-02", "2025-11-03"]
          },
          "datasets": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "label": {
                  "type": "string",
                  "example": "Total Production"
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "number"
                  },
                  "example": [1250, 1300, 1280]
                },
                "backgroundColor": {
                  "type": "string",
                  "example": "rgba(59, 130, 246, 0.5)"
                },
                "borderColor": {
                  "type": "string",
                  "example": "rgba(59, 130, 246, 1)"
                }
              }
            }
          },
          "period": {
            "type": "string",
            "enum": ["7d", "30d", "90d", "1y"],
            "description": "Time period for the data",
            "example": "7d"
          },
          "totalProduction": {
            "type": "integer",
            "description": "Total production for the period",
            "example": 8750
          },
          "averageDaily": {
            "type": "number",
            "description": "Average daily production",
            "example": 1250.5
          },
          "data": {
            "type": "array",
            "description": "Alternative format: array of daily data with grade breakdown",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date"
                },
                "quantity": {
                  "type": "number"
                },
                "gradeAA": {
                  "type": "number"
                },
                "gradeA": {
                  "type": "number"
                },
                "gradeB": {
                  "type": "number"
                },
                "gradeC": {
                  "type": "number"
                },
                "total": {
                  "type": "number"
                }
              }
            }
          }
        }
      },
      "FeedInventory": {
        "type": "object",
        "required": ["id", "name", "type", "stock", "unit", "supplier", "farmId"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Feed unique identifier",
            "example": "feed-123"
          },
          "name": {
            "type": "string",
            "description": "Name of the feed item",
            "example": "Layer Feed Premium"
          },
          "type": {
            "type": "string",
            "enum": ["layer", "starter", "grower", "finisher", "supplement"],
            "description": "Type of feed",
            "example": "layer"
          },
          "category": {
            "type": "string",
            "description": "Feed category",
            "example": "Poultry Feed"
          },
          "stock": {
            "type": "number",
            "description": "Current stock quantity",
            "minimum": 0,
            "example": 500.5
          },
          "maxCapacity": {
            "type": "number",
            "description": "Maximum storage capacity",
            "minimum": 0,
            "example": 1000
          },
          "unit": {
            "type": "string",
            "description": "Unit of measurement (kg, lbs, tons, etc.)",
            "example": "kg"
          },
          "status": {
            "type": "string",
            "enum": ["In Stock", "Low Stock", "Out of Stock"],
            "description": "Stock status (calculated based on stock levels)",
            "example": "In Stock"
          },
          "expiryDate": {
            "type": "string",
            "format": "date",
            "description": "Feed expiry date (ISO date)",
            "example": "2025-12-31"
          },
          "supplier": {
            "type": "string",
            "description": "Feed supplier name",
            "example": "ABC Feed Company"
          },
          "cost": {
            "type": "number",
            "description": "Total cost",
            "minimum": 0,
            "example": 12500.00
          },
          "costPerUnit": {
            "type": "number",
            "description": "Cost per unit of feed",
            "minimum": 0,
            "example": 25.50
          },
          "location": {
            "type": "string",
            "description": "Storage location",
            "example": "Warehouse A, Shelf 3"
          },
          "batchNumber": {
            "type": "string",
            "description": "Batch number",
            "example": "BATCH-2025-001"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes",
            "example": "High quality feed for layers"
          },
          "farmId": {
            "type": "string",
            "description": "Associated farm ID",
            "example": "farm-123"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Record creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "quantity": {
            "type": "number",
            "description": "Legacy field - use stock instead",
            "minimum": 0,
            "example": 500.5
          },
          "feedType": {
            "type": "string",
            "description": "Legacy field - use name instead",
            "example": "Layer Feed Premium"
          },
          "minimumStock": {
            "type": "number",
            "description": "Legacy field - minimum stock level before alert",
            "minimum": 0,
            "example": 100
          }
        }
      },
      "FeedUsageRequest": {
        "type": "object",
        "required": ["feedId", "quantity", "pen", "date"],
        "properties": {
          "feedId": {
            "type": "string",
            "description": "Feed item ID",
            "example": "feed-123"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity used",
            "minimum": 0,
            "example": 50.5
          },
          "pen": {
            "type": "string",
            "description": "Pen identifier where feed was used",
            "example": "pen-001"
          },
          "usedBy": {
            "type": "string",
            "description": "User ID who recorded the usage",
            "example": "user-123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date of usage (ISO date)",
            "example": "2025-01-15"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the usage",
            "example": "Fed to layer pen in morning"
          }
        }
      },
      "FeedReorderRequest": {
        "type": "object",
        "required": ["quantity"],
        "properties": {
          "quantity": {
            "type": "number",
            "description": "Quantity to reorder",
            "minimum": 0,
            "example": 500
          },
          "priority": {
            "type": "string",
            "enum": ["low", "medium", "high"],
            "description": "Reorder priority",
            "default": "medium",
            "example": "high"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes for the reorder request",
            "example": "Urgent - running low on stock"
          }
        }
      },
      "FeedStats": {
        "type": "object",
        "properties": {
          "totalItems": {
            "type": "integer",
            "description": "Total number of feed items",
            "example": 25
          },
          "lowStockItems": {
            "type": "integer",
            "description": "Count of items with low stock",
            "example": 5
          },
          "outOfStockItems": {
            "type": "integer",
            "description": "Count of items out of stock",
            "example": 2
          },
          "totalValue": {
            "type": "number",
            "description": "Total inventory value",
            "example": 125000.50
          },
          "totalStock": {
            "type": "number",
            "description": "Total stock quantity",
            "example": 5000.75
          },
          "dailyConsumption": {
            "type": "number",
            "description": "Daily consumption rate (calculated from last 30 days)",
            "example": 150.25
          }
        }
      },
      "MedicineInventory": {
        "type": "object",
        "required": ["id", "name", "type", "stock", "unit", "farmId"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Medicine unique identifier",
            "example": "medicine-123"
          },
          "name": {
            "type": "string",
            "description": "Medicine name",
            "example": "Antibiotic X"
          },
          "type": {
            "type": "string",
            "enum": ["vaccine", "antibiotic", "vitamin", "treatment"],
            "description": "Medicine type",
            "example": "antibiotic"
          },
          "stock": {
            "type": "number",
            "description": "Current stock quantity",
            "example": 50
          },
          "unit": {
            "type": "string",
            "description": "Unit of measurement (ml, tablets, vials, etc.)",
            "example": "ml"
          },
          "status": {
            "type": "string",
            "enum": ["In Stock", "Low Stock", "Out of Stock"],
            "description": "Calculated stock status",
            "example": "In Stock"
          },
          "expiryDate": {
            "type": "string",
            "format": "date",
            "description": "Expiration date (ISO format: YYYY-MM-DD)",
            "example": "2025-12-31"
          },
          "supplier": {
            "type": "string",
            "description": "Supplier name",
            "example": "Pharma Corp"
          },
          "usage": {
            "type": "string",
            "description": "Usage instructions (e.g., 'Oral', 'Injection')",
            "example": "Oral"
          },
          "costPerUnit": {
            "type": "number",
            "description": "Cost per unit",
            "example": 2.50
          },
          "location": {
            "type": "string",
            "description": "Storage location",
            "example": "Refrigerator A"
          },
          "batchNumber": {
            "type": "string",
            "description": "Batch or lot number",
            "example": "BATCH-2024-001"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes",
            "example": "Store in cool, dry place"
          },
          "farmId": {
            "type": "string",
            "description": "Farm ID",
            "example": "farm-123"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Record creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "medicineName": {
            "type": "string",
            "description": "Legacy field for name",
            "example": "Antibiotic X"
          },
          "currentStock": {
            "type": "number",
            "description": "Legacy field for stock",
            "example": 50
          },
          "unitPrice": {
            "type": "number",
            "description": "Legacy field for costPerUnit",
            "example": 2.50
          },
          "minimumStock": {
            "type": "number",
            "description": "Minimum stock threshold",
            "example": 10
          }
        }
      },
      "MedicineStats": {
        "type": "object",
        "properties": {
          "totalMedicines": {
            "type": "number",
            "description": "Total number of medicine items",
            "example": 25
          },
          "lowStockItems": {
            "type": "number",
            "description": "Count of items with low stock",
            "example": 5
          },
          "activeTreatments": {
            "type": "number",
            "description": "Number of active treatments",
            "example": 3
          },
          "expiringSoon": {
            "type": "number",
            "description": "Medicines expiring within 30 days",
            "example": 2
          },
          "totalValue": {
            "type": "number",
            "description": "Total inventory value",
            "example": 1250.50
          },
          "byType": {
            "type": "object",
            "properties": {
              "vaccine": {
                "type": "number",
                "example": 10
              },
              "antibiotic": {
                "type": "number",
                "example": 8
              },
              "vitamin": {
                "type": "number",
                "example": 5
              },
              "treatment": {
                "type": "number",
                "example": 2
              }
            }
          }
        }
      },
      "TreatmentRecord": {
        "type": "object",
        "required": ["id", "medicineId", "birdGroup", "dosage", "administeredBy", "date", "reason"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Treatment record unique identifier",
            "example": "treatment-123"
          },
          "medicineId": {
            "type": "string",
            "description": "Medicine ID",
            "example": "medicine-123"
          },
          "birdGroup": {
            "type": "string",
            "description": "Bird group identifier",
            "example": "pen-A1"
          },
          "dosage": {
            "type": "string",
            "description": "Dosage (e.g., '5ml', '2 tablets')",
            "example": "5ml"
          },
          "administeredBy": {
            "type": "string",
            "description": "User ID or name",
            "example": "user-123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Treatment date (ISO date: YYYY-MM-DD)",
            "example": "2025-11-10"
          },
          "reason": {
            "type": "string",
            "description": "Treatment reason/notes",
            "example": "Preventive treatment for respiratory infection"
          },
          "outcome": {
            "type": "string",
            "description": "Treatment outcome (optional)",
            "example": "Successful"
          },
          "farmId": {
            "type": "string",
            "description": "Farm ID",
            "example": "farm-123"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Record creation timestamp"
          },
          "birdGroupId": {
            "type": "string",
            "description": "Alternative field name for birdGroup",
            "example": "pen-A1"
          },
          "treatment": {
            "type": "string",
            "description": "Alternative field name for medicine name",
            "example": "Antibiotic X"
          },
          "medicineName": {
            "type": "string",
            "description": "Medicine name (for display)",
            "example": "Antibiotic X"
          },
          "usedBy": {
            "type": "string",
            "description": "Alternative field name for administeredBy",
            "example": "user-123"
          },
          "adminBy": {
            "type": "string",
            "description": "Alternative field name for administeredBy",
            "example": "user-123"
          }
        }
      },
      "MedicineRecord": {
        "type": "object",
        "required": ["id", "medicineName", "type", "dosage", "administeredBy", "administeredDate"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Medicine record unique identifier",
            "example": "medicine-123"
          },
          "medicineName": {
            "type": "string",
            "description": "Name of the medicine",
            "example": "Antibiotic X"
          },
          "type": {
            "type": "string",
            "enum": ["vaccination", "treatment", "supplement"],
            "description": "Type of medicine",
            "example": "vaccination"
          },
          "penId": {
            "type": "string",
            "description": "Pen identifier (if applicable)",
            "example": "pen-001"
          },
          "birdId": {
            "type": "string",
            "description": "Bird identifier (if applicable)",
            "example": "bird-123"
          },
          "dosage": {
            "type": "string",
            "description": "Dosage information",
            "example": "2ml per bird"
          },
          "administeredBy": {
            "type": "string",
            "description": "User ID who administered the medicine",
            "example": "user-123"
          },
          "administeredDate": {
            "type": "string",
            "format": "date",
            "description": "Date when medicine was administered",
            "example": "2025-11-08"
          },
          "nextDueDate": {
            "type": "string",
            "format": "date",
            "description": "Next due date (for vaccinations)",
            "example": "2025-12-08"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes",
            "example": "No adverse reactions observed"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Record creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          }
        }
      },
      "Error": {
        "type": "object",
        "required": ["success", "message"],
        "properties": {
          "success": {
            "type": "boolean",
            "example": false,
            "description": "Always false for error responses"
          },
          "message": {
            "type": "string",
            "description": "Human-readable error message",
            "example": "Invalid email or password"
          },
          "error": {
            "type": "object",
            "description": "Detailed error information",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["VALIDATION_ERROR", "AUTHENTICATION_ERROR", "AUTHORIZATION_ERROR", "NOT_FOUND_ERROR", "DATABASE_ERROR", "BUSINESS_LOGIC_ERROR", "RATE_LIMIT_ERROR", "INTERNAL_SERVER_ERROR"],
                "description": "Error type classification"
              },
              "code": {
                "type": "string",
                "description": "Specific error code",
                "example": "INVALID_CREDENTIALS"
              },
              "message": {
                "type": "string",
                "description": "Error message",
                "example": "Invalid email or password"
              },
              "timestamp": {
                "type": "string",
                "format": "date-time",
                "description": "When the error occurred"
              }
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Error timestamp"
          }
        }
      },
      "Success": {
        "type": "object",
        "required": ["success", "message"],
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "Always true for successful responses"
          },
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Operation completed successfully"
          },
          "data": {
            "description": "Response data (varies by endpoint)",
            "oneOf": [
              { "type": "object" },
              { "type": "array" },
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Response timestamp",
            "example": "2025-11-08T00:44:10.812Z"
          }
        }
      },
      "PaginatedResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "description": "Array of items"
          },
          "pagination": {
            "type": "object",
            "properties": {
              "page": {
                "type": "integer",
                "description": "Current page number",
                "minimum": 1,
                "example": 1
              },
              "limit": {
                "type": "integer",
                "description": "Items per page",
                "minimum": 1,
                "maximum": 100,
                "example": 10
              },
              "total": {
                "type": "integer",
                "description": "Total number of items",
                "minimum": 0,
                "example": 150
              },
              "totalPages": {
                "type": "integer",
                "description": "Total number of pages",
                "minimum": 0,
                "example": 15
              },
              "hasNext": {
                "type": "boolean",
                "description": "Whether there is a next page",
                "example": true
              },
              "hasPrev": {
                "type": "boolean",
                "description": "Whether there is a previous page",
                "example": false
              }
            }
          }
        }
      },
      "DashboardStats": {
        "type": "object",
        "properties": {
          "totalBirds": {
            "type": "integer",
            "description": "Total number of birds",
            "example": 5000
          },
          "todayEggs": {
            "type": "integer",
            "description": "Total eggs collected today",
            "example": 1250
          },
          "revenue": {
            "type": "number",
            "description": "Today's revenue in Ghana Cedis (₵)",
            "example": 3125.00
          },
          "performanceScore": {
            "type": "string",
            "description": "Overall performance score as percentage",
            "example": "94%"
          },
          "feedStock": {
            "type": "number",
            "description": "Total feed stock quantity (optional)",
            "example": 5000.5
          },
          "healthAlerts": {
            "type": "integer",
            "description": "Number of health alerts (sick/quarantine birds) (optional)",
            "example": 5
          }
        }
      },
      "DailyStats": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date for statistics",
            "example": "2025-11-10"
          },
          "eggsCollected": {
            "type": "integer",
            "description": "Total eggs collected",
            "example": 1250
          },
          "birdsCount": {
            "type": "integer",
            "description": "Total bird count",
            "example": 5000
          },
          "feedConsumed": {
            "type": "number",
            "description": "Feed consumed in kg",
            "example": 150.25
          },
          "revenue": {
            "type": "number",
            "description": "Revenue in Ghana Cedis (₵)",
            "example": 3125.00
          },
          "expenses": {
            "type": "number",
            "description": "Expenses in Ghana Cedis (₵)",
            "example": 500.00
          }
        }
      },
      "WeeklyStats": {
        "type": "object",
        "properties": {
          "weekStart": {
            "type": "string",
            "format": "date",
            "description": "Week start date",
            "example": "2025-11-03"
          },
          "weekEnd": {
            "type": "string",
            "format": "date",
            "description": "Week end date",
            "example": "2025-11-10"
          },
          "totalEggs": {
            "type": "integer",
            "description": "Total eggs collected",
            "example": 8750
          },
          "averageDaily": {
            "type": "number",
            "description": "Average daily production",
            "example": 1250.0
          },
          "totalRevenue": {
            "type": "number",
            "description": "Total revenue in Ghana Cedis (₵)",
            "example": 21875.00
          },
          "totalExpenses": {
            "type": "number",
            "description": "Total expenses in Ghana Cedis (₵)",
            "example": 3500.00
          },
          "netProfit": {
            "type": "number",
            "description": "Net profit in Ghana Cedis (₵)",
            "example": 18375.00
          }
        }
      },
      "MonthlyStats": {
        "type": "object",
        "properties": {
          "month": {
            "type": "string",
            "description": "Month in YYYY-MM format",
            "example": "2025-11"
          },
          "totalEggs": {
            "type": "integer",
            "description": "Total eggs collected",
            "example": 37500
          },
          "averageDaily": {
            "type": "number",
            "description": "Average daily production",
            "example": 1250.0
          },
          "totalRevenue": {
            "type": "number",
            "description": "Total revenue in Ghana Cedis (₵)",
            "example": 93750.00
          },
          "totalExpenses": {
            "type": "number",
            "description": "Total expenses in Ghana Cedis (₵)",
            "example": 15000.00
          },
          "netProfit": {
            "type": "number",
            "description": "Net profit in Ghana Cedis (₵)",
            "example": 78750.00
          },
          "profitMargin": {
            "type": "number",
            "description": "Profit margin as percentage",
            "example": 84.0
          }
        }
      },
      "PerformanceTrends": {
        "type": "object",
        "properties": {
          "eggProduction": {
            "type": "object",
            "properties": {
              "current": {
                "type": "number",
                "description": "Current period production",
                "example": 37500
              },
              "previous": {
                "type": "number",
                "description": "Previous period production",
                "example": 35000
              },
              "change": {
                "type": "number",
                "description": "Percentage change",
                "example": 7.14
              },
              "trend": {
                "type": "string",
                "enum": ["up", "down", "neutral"],
                "description": "Trend direction",
                "example": "up"
              }
            }
          },
          "feedEfficiency": {
            "type": "object",
            "properties": {
              "current": {
                "type": "number",
                "description": "Current feed efficiency",
                "example": 2.1
              },
              "previous": {
                "type": "number",
                "description": "Previous feed efficiency",
                "example": 2.2
              },
              "change": {
                "type": "number",
                "description": "Percentage change",
                "example": -4.55
              },
              "trend": {
                "type": "string",
                "enum": ["up", "down", "neutral"],
                "description": "Trend direction",
                "example": "down"
              }
            }
          },
          "revenue": {
            "type": "object",
            "properties": {
              "current": {
                "type": "number",
                "description": "Current period revenue",
                "example": 93750.00
              },
              "previous": {
                "type": "number",
                "description": "Previous period revenue",
                "example": 87500.00
              },
              "change": {
                "type": "number",
                "description": "Percentage change",
                "example": 7.14
              },
              "trend": {
                "type": "string",
                "enum": ["up", "down", "neutral"],
                "description": "Trend direction",
                "example": "up"
              }
            }
          }
        }
      },
      "GradeDistribution": {
        "type": "object",
        "properties": {
          "gradeAA": {
            "type": "object",
            "properties": {
              "count": {
                "type": "integer",
                "description": "Count of AA grade eggs",
                "example": 25500
              },
              "percentage": {
                "type": "number",
                "description": "Percentage of AA grade eggs",
                "example": 68.0
              }
            }
          },
          "gradeA": {
            "type": "object",
            "properties": {
              "count": {
                "type": "integer",
                "description": "Count of A grade eggs",
                "example": 9000
              },
              "percentage": {
                "type": "number",
                "description": "Percentage of A grade eggs",
                "example": 24.0
              }
            }
          },
          "gradeB": {
            "type": "object",
            "properties": {
              "count": {
                "type": "integer",
                "description": "Count of B grade eggs",
                "example": 2500
              },
              "percentage": {
                "type": "number",
                "description": "Percentage of B grade eggs",
                "example": 6.67
              }
            }
          },
          "cracked": {
            "type": "object",
            "properties": {
              "count": {
                "type": "integer",
                "description": "Count of cracked eggs",
                "example": 500
              },
              "percentage": {
                "type": "number",
                "description": "Percentage of cracked eggs",
                "example": 1.33
              }
            }
          },
          "total": {
            "type": "integer",
            "description": "Total eggs",
            "example": 37500
          }
        }
      },
      "PenPerformance": {
        "type": "object",
        "properties": {
          "penId": {
            "type": "string",
            "description": "Pen identifier",
            "example": "A1"
          },
          "penName": {
            "type": "string",
            "description": "Pen name",
            "example": "A1"
          },
          "birdCount": {
            "type": "integer",
            "description": "Number of birds in pen",
            "example": 500
          },
          "eggProduction": {
            "type": "integer",
            "description": "Total egg production",
            "example": 3750
          },
          "efficiency": {
            "type": "number",
            "description": "Production efficiency (eggs per bird)",
            "example": 7.5
          },
          "rank": {
            "type": "integer",
            "description": "Performance ranking (1-based)",
            "example": 1
          }
        }
      },
      "CollectorPerformance": {
        "type": "object",
        "properties": {
          "collectorId": {
            "type": "string",
            "description": "Collector identifier",
            "example": "collector-123"
          },
          "collectorName": {
            "type": "string",
            "description": "Collector name",
            "example": "John Doe"
          },
          "totalCollections": {
            "type": "integer",
            "description": "Total number of collections",
            "example": 90
          },
          "averagePerDay": {
            "type": "number",
            "description": "Average eggs collected per day",
            "example": 1250.0
          },
          "efficiency": {
            "type": "number",
            "description": "Average eggs per collection",
            "example": 41.67
          },
          "rank": {
            "type": "integer",
            "description": "Performance ranking (1-based)",
            "example": 1
          }
        }
      },
      "EggProductionStats": {
        "type": "object",
        "properties": {
          "totalProduction": {
            "type": "integer",
            "description": "Total egg production",
            "example": 37500
          },
          "averageDaily": {
            "type": "number",
            "description": "Average daily production",
            "example": 1250.0
          },
          "peakDay": {
            "type": "object",
            "properties": {
              "date": {
                "type": "string",
                "format": "date",
                "description": "Date of peak production",
                "example": "2025-11-05"
              },
              "quantity": {
                "type": "integer",
                "description": "Peak production quantity",
                "example": 1500
              }
            }
          },
          "gradeDistribution": {
            "type": "object",
            "properties": {
              "AA": {
                "type": "integer",
                "description": "AA grade eggs",
                "example": 25500
              },
              "A": {
                "type": "integer",
                "description": "A grade eggs",
                "example": 9000
              },
              "B": {
                "type": "integer",
                "description": "B grade eggs",
                "example": 2500
              },
              "C": {
                "type": "integer",
                "description": "C grade eggs",
                "example": 500
              }
            }
          }
        }
      },
      "ProductionTrends": {
        "type": "object",
        "properties": {
          "period": {
            "type": "string",
            "enum": ["7d", "30d", "90d", "1y"],
            "description": "Time period",
            "example": "30d"
          },
          "dataPoints": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date",
                  "description": "Date",
                  "example": "2025-11-01"
                },
                "quantity": {
                  "type": "integer",
                  "description": "Total quantity",
                  "example": 1250
                },
                "gradeAA": {
                  "type": "integer",
                  "description": "AA grade eggs",
                  "example": 850
                },
                "gradeA": {
                  "type": "integer",
                  "description": "A grade eggs",
                  "example": 300
                },
                "gradeB": {
                  "type": "integer",
                  "description": "B grade eggs",
                  "example": 100
                }
              }
            }
          },
          "trend": {
            "type": "string",
            "enum": ["increasing", "decreasing", "stable"],
            "description": "Overall trend direction",
            "example": "increasing"
          }
        }
      },
      "DailyProductionSummary": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date",
            "example": "2025-11-10"
          },
          "totalEggs": {
            "type": "integer",
            "description": "Total eggs collected",
            "example": 1250
          },
          "byGrade": {
            "type": "object",
            "properties": {
              "AA": {
                "type": "integer",
                "description": "AA grade eggs",
                "example": 850
              },
              "A": {
                "type": "integer",
                "description": "A grade eggs",
                "example": 300
              },
              "B": {
                "type": "integer",
                "description": "B grade eggs",
                "example": 100
              },
              "C": {
                "type": "integer",
                "description": "C grade eggs",
                "example": 0
              }
            }
          },
          "byShift": {
            "type": "object",
            "properties": {
              "Morning": {
                "type": "integer",
                "description": "Morning shift eggs",
                "example": 500
              },
              "Afternoon": {
                "type": "integer",
                "description": "Afternoon shift eggs",
                "example": 450
              },
              "Evening": {
                "type": "integer",
                "description": "Evening shift eggs",
                "example": 300
              }
            }
          }
        }
      },
      "MonthlyProductionSummary": {
        "type": "object",
        "properties": {
          "month": {
            "type": "string",
            "description": "Month in YYYY-MM format",
            "example": "2025-11"
          },
          "totalEggs": {
            "type": "integer",
            "description": "Total eggs collected",
            "example": 37500
          },
          "averageDaily": {
            "type": "number",
            "description": "Average daily production",
            "example": 1250.0
          },
          "peakDay": {
            "type": "object",
            "properties": {
              "date": {
                "type": "string",
                "format": "date",
                "description": "Date of peak production",
                "example": "2025-11-05"
              },
              "quantity": {
                "type": "integer",
                "description": "Peak production quantity",
                "example": 1500
              }
            }
          },
          "byGrade": {
            "type": "object",
            "properties": {
              "AA": {
                "type": "integer",
                "description": "AA grade eggs",
                "example": 25500
              },
              "A": {
                "type": "integer",
                "description": "A grade eggs",
                "example": 9000
              },
              "B": {
                "type": "integer",
                "description": "B grade eggs",
                "example": 2500
              },
              "C": {
                "type": "integer",
                "description": "C grade eggs",
                "example": 500
              }
            }
          }
        }
      },
      "FinancialSummary": {
        "type": "object",
        "properties": {
          "totalRevenue": {
            "type": "number",
            "description": "Total revenue in Ghana Cedis (₵)",
            "example": 93750.00
          },
          "totalExpenses": {
            "type": "number",
            "description": "Total expenses in Ghana Cedis (₵)",
            "example": 15000.00
          },
          "netProfit": {
            "type": "number",
            "description": "Net profit in Ghana Cedis (₵)",
            "example": 78750.00
          },
          "profitMargin": {
            "type": "number",
            "description": "Profit margin as percentage",
            "example": 84.0
          }
        }
      },
      "RevenueTrends": {
        "type": "object",
        "properties": {
          "period": {
            "type": "string",
            "enum": ["7d", "30d", "90d", "1y"],
            "description": "Time period",
            "example": "30d"
          },
          "dataPoints": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date",
                  "description": "Date",
                  "example": "2025-11-01"
                },
                "revenue": {
                  "type": "number",
                  "description": "Revenue in Ghana Cedis (₵)",
                  "example": 3125.00
                },
                "source": {
                  "type": "string",
                  "enum": ["eggs", "birds", "other"],
                  "description": "Revenue source",
                  "example": "eggs"
                }
              }
            }
          },
          "trend": {
            "type": "string",
            "enum": ["increasing", "decreasing", "stable"],
            "description": "Trend direction",
            "example": "increasing"
          }
        }
      },
      "CostAnalysis": {
        "type": "object",
        "properties": {
          "totalCost": {
            "type": "number",
            "description": "Total cost in Ghana Cedis (₵)",
            "example": 15000.00
          },
          "byCategory": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "category": {
                  "type": "string",
                  "enum": ["feed", "medicine", "labor", "utilities", "other"],
                  "description": "Cost category",
                  "example": "feed"
                },
                "amount": {
                  "type": "number",
                  "description": "Amount in Ghana Cedis (₵)",
                  "example": 12000.00
                },
                "percentage": {
                  "type": "number",
                  "description": "Percentage of total cost",
                  "example": 80.0
                }
              }
            }
          },
          "costPerEgg": {
            "type": "number",
            "description": "Cost per egg in Ghana Cedis (₵)",
            "example": 0.40
          },
          "costPerBird": {
            "type": "number",
            "description": "Cost per bird in Ghana Cedis (₵)",
            "example": 3.00
          }
        }
      },
      "ProfitMargins": {
        "type": "object",
        "properties": {
          "grossMargin": {
            "type": "number",
            "description": "Gross profit margin as percentage",
            "example": 84.0
          },
          "netMargin": {
            "type": "number",
            "description": "Net profit margin as percentage",
            "example": 84.0
          },
          "byPeriod": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "period": {
                  "type": "string",
                  "description": "Period identifier",
                  "example": "2025-11"
                },
                "margin": {
                  "type": "number",
                  "description": "Profit margin for period",
                  "example": 84.0
                }
              }
            }
          }
        }
      },
      "PerformanceOverview": {
        "type": "object",
        "properties": {
          "overallScore": {
            "type": "integer",
            "description": "Overall performance score (0-100)",
            "example": 94
          },
          "productionEfficiency": {
            "type": "number",
            "description": "Production efficiency percentage",
            "example": 95.0
          },
          "feedEfficiency": {
            "type": "number",
            "description": "Feed efficiency percentage",
            "example": 92.0
          },
          "healthScore": {
            "type": "integer",
            "description": "Health score (0-100)",
            "example": 98
          },
          "financialHealth": {
            "type": "integer",
            "description": "Financial health score (0-100)",
            "example": 90
          }
        }
      },
      "EfficiencyMetrics": {
        "type": "object",
        "properties": {
          "feedEfficiency": {
            "type": "number",
            "description": "Feed efficiency (kg per egg)",
            "example": 2.1
          },
          "productionEfficiency": {
            "type": "number",
            "description": "Production efficiency (eggs per bird)",
            "example": 7.5
          },
          "laborEfficiency": {
            "type": "number",
            "description": "Labor efficiency (placeholder)",
            "example": 0
          },
          "resourceUtilization": {
            "type": "number",
            "description": "Resource utilization percentage",
            "example": 95.0
          }
        }
      },
      "ProductivityMetrics": {
        "type": "object",
        "properties": {
          "eggsPerBird": {
            "type": "number",
            "description": "Average eggs per bird",
            "example": 7.5
          },
          "eggsPerDay": {
            "type": "number",
            "description": "Average eggs per day",
            "example": 1250.0
          },
          "collectionRate": {
            "type": "number",
            "description": "Collection rate percentage",
            "example": 95.0
          },
          "qualityScore": {
            "type": "number",
            "description": "Quality score percentage (AA and A grade eggs)",
            "example": 92.0
          }
        }
      },
      "PeriodComparison": {
        "type": "object",
        "properties": {
          "currentPeriod": {
            "type": "object",
            "properties": {
              "start": {
                "type": "string",
                "format": "date",
                "description": "Period start date",
                "example": "2025-10-11"
              },
              "end": {
                "type": "string",
                "format": "date",
                "description": "Period end date",
                "example": "2025-11-10"
              },
              "metrics": {
                "type": "object",
                "properties": {
                  "totalEggs": {
                    "type": "integer",
                    "description": "Total eggs",
                    "example": 37500
                  },
                  "revenue": {
                    "type": "number",
                    "description": "Revenue in Ghana Cedis (₵)",
                    "example": 93750.00
                  },
                  "expenses": {
                    "type": "number",
                    "description": "Expenses in Ghana Cedis (₵)",
                    "example": 15000.00
                  }
                }
              }
            }
          },
          "previousPeriod": {
            "type": "object",
            "properties": {
              "start": {
                "type": "string",
                "format": "date",
                "description": "Period start date",
                "example": "2025-09-11"
              },
              "end": {
                "type": "string",
                "format": "date",
                "description": "Period end date",
                "example": "2025-10-11"
              },
              "metrics": {
                "type": "object",
                "properties": {
                  "totalEggs": {
                    "type": "integer",
                    "description": "Total eggs",
                    "example": 35000
                  },
                  "revenue": {
                    "type": "number",
                    "description": "Revenue in Ghana Cedis (₵)",
                    "example": 87500.00
                  },
                  "expenses": {
                    "type": "number",
                    "description": "Expenses in Ghana Cedis (₵)",
                    "example": 14000.00
                  }
                }
              }
            }
          },
          "changes": {
            "type": "object",
            "properties": {
              "eggsChange": {
                "type": "number",
                "description": "Percentage change in eggs",
                "example": 7.14
              },
              "revenueChange": {
                "type": "number",
                "description": "Percentage change in revenue",
                "example": 7.14
              },
              "expenseChange": {
                "type": "number",
                "description": "Percentage change in expenses",
                "example": 7.14
              }
            }
          }
        }
      },
      "YearOverYearComparison": {
        "type": "object",
        "properties": {
          "currentYear": {
            "type": "integer",
            "description": "Current year",
            "example": 2025
          },
          "previousYear": {
            "type": "integer",
            "description": "Previous year",
            "example": 2024
          },
          "metrics": {
            "type": "object",
            "properties": {
              "totalEggs": {
                "type": "object",
                "properties": {
                  "current": {
                    "type": "integer",
                    "description": "Current year total eggs",
                    "example": 450000
                  },
                  "previous": {
                    "type": "integer",
                    "description": "Previous year total eggs",
                    "example": 420000
                  },
                  "change": {
                    "type": "number",
                    "description": "Percentage change",
                    "example": 7.14
                  }
                }
              },
              "revenue": {
                "type": "object",
                "properties": {
                  "current": {
                    "type": "number",
                    "description": "Current year revenue",
                    "example": 1125000.00
                  },
                  "previous": {
                    "type": "number",
                    "description": "Previous year revenue",
                    "example": 1050000.00
                  },
                  "change": {
                    "type": "number",
                    "description": "Percentage change",
                    "example": 7.14
                  }
                }
              }
            }
          }
        }
      },
      "BenchmarkComparison": {
        "type": "object",
        "properties": {
          "farmMetrics": {
            "type": "object",
            "properties": {
              "eggsPerBird": {
                "type": "number",
                "description": "Farm's eggs per bird",
                "example": 280
              },
              "feedEfficiency": {
                "type": "number",
                "description": "Farm's feed efficiency (kg per egg)",
                "example": 2.1
              },
              "mortalityRate": {
                "type": "number",
                "description": "Farm's mortality rate percentage",
                "example": 3.5
              }
            }
          },
          "industryBenchmarks": {
            "type": "object",
            "properties": {
              "eggsPerBird": {
                "type": "number",
                "description": "Industry benchmark for eggs per bird",
                "example": 280
              },
              "feedEfficiency": {
                "type": "number",
                "description": "Industry benchmark for feed efficiency",
                "example": 2.2
              },
              "mortalityRate": {
                "type": "number",
                "description": "Industry benchmark for mortality rate",
                "example": 5.0
              }
            }
          },
          "comparison": {
            "type": "object",
            "properties": {
              "eggsPerBird": {
                "type": "string",
                "enum": ["above", "below", "at"],
                "description": "Comparison result",
                "example": "at"
              },
              "feedEfficiency": {
                "type": "string",
                "enum": ["above", "below", "at"],
                "description": "Comparison result",
                "example": "above"
              },
              "mortalityRate": {
                "type": "string",
                "enum": ["above", "below", "at"],
                "description": "Comparison result",
                "example": "below"
              }
            }
          }
        }
      },
      "ReportTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Template identifier",
            "example": "production-daily"
          },
          "name": {
            "type": "string",
            "description": "Template name",
            "example": "Daily Production Report"
          },
          "description": {
            "type": "string",
            "description": "Template description",
            "example": "Daily egg production summary"
          },
          "type": {
            "type": "string",
            "enum": ["production", "financial", "health", "overview"],
            "description": "Report type",
            "example": "production"
          },
          "defaultFilters": {
            "type": "object",
            "properties": {
              "period": {
                "type": "string",
                "enum": ["7d", "30d", "90d", "1y"],
                "description": "Default time period",
                "example": "7d"
              },
              "pens": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Default pen filters",
                "example": []
              },
              "grades": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Default grade filters",
                "example": []
              }
            }
          }
        }
      },
      "ExportReportRequest": {
        "type": "object",
        "required": ["format"],
        "properties": {
          "templateId": {
            "type": "string",
            "description": "Template ID (optional)",
            "example": "production-daily"
          },
          "dateRange": {
            "type": "object",
            "properties": {
              "start": {
                "type": "string",
                "format": "date",
                "description": "Start date (ISO date)",
                "example": "2025-11-01"
              },
              "end": {
                "type": "string",
                "format": "date",
                "description": "End date (ISO date)",
                "example": "2025-11-10"
              }
            }
          },
          "format": {
            "type": "string",
            "enum": ["pdf", "excel", "csv"],
            "description": "Export format",
            "example": "pdf"
          },
          "filters": {
            "type": "object",
            "properties": {
              "pens": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Pen filters",
                "example": ["A1", "A2"]
              },
              "collectors": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Collector filters",
                "example": ["collector-1"]
              },
              "grades": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": ["AA", "A", "B", "C"]
                },
                "description": "Grade filters",
                "example": ["AA", "A"]
              }
            }
          }
        }
      },
      "ExportReportResponse": {
        "type": "object",
        "properties": {
          "reportId": {
            "type": "string",
            "description": "Report identifier",
            "example": "report-1234567890-abc123"
          },
          "status": {
            "type": "string",
            "enum": ["generating", "completed", "failed"],
            "description": "Report generation status",
            "example": "generating"
          },
          "estimatedCompletion": {
            "type": "string",
            "format": "date-time",
            "description": "Estimated completion time (for async generation)",
            "example": "2025-11-10T12:01:00Z"
          },
          "downloadUrl": {
            "type": "string",
            "format": "uri",
            "description": "Download URL (when status is completed)",
            "example": "https://api.farmmanagement.com/api/reports/report-123/download"
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Register a new user (Admin only)",
        "description": "Create a new user account. This endpoint requires admin authentication and validates user roles.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password", "displayName", "role"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "description": "User password (minimum 6 characters)"
                  },
                  "displayName": {
                    "type": "string",
                    "description": "User display name"
                  },
                  "role": {
                    "type": "string",
                    "enum": ["WORKER", "MANAGER", "ADMIN"],
                    "description": "User role in the system"
                  },
                  "farmId": {
                    "type": "string",
                    "description": "Associated farm ID (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "uid": {
                              "type": "string",
                              "description": "Created user ID"
                            },
                            "email": {
                              "type": "string",
                              "description": "User email"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input data or role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Missing or invalid authentication token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - User already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "User Login",
        "description": "Authenticate a user with email and password. Returns an ID token and refresh token for session management.",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@farmmanagement.com",
                    "description": "User email address"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "minLength": 8,
                    "example": "SecurePassword123!",
                    "description": "User password"
                  }
                }
              },
              "examples": {
                "admin": {
                  "summary": "Admin Login",
                  "value": {
                    "email": "admin@farmmanagement.com",
                    "password": "Admin123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful. Returns authentication tokens and user information.",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "token": {
                              "type": "string",
                              "description": "Firebase ID token (JWT) - expires in 1 hour",
                              "example": "eyJhbGciOiJSUzI1NiIsImtpZCI6..."
                            },
                            "refreshToken": {
                              "type": "string",
                              "description": "Refresh token for obtaining new ID tokens",
                              "example": "AIzaSy..."
                            },
                            "user": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "description": "User unique identifier"
                                },
                                "name": {
                                  "type": "string",
                                  "description": "User display name"
                                },
                                "role": {
                                  "type": "string",
                                  "enum": ["admin", "manager", "worker"],
                                  "description": "User role in the system"
                                }
                              }
                            },
                            "expiresIn": {
                              "type": "integer",
                              "description": "Token expiration time in seconds",
                              "example": 3600
                            }
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "success": {
                    "summary": "Successful Login",
                    "value": {
                      "success": true,
                      "message": "Login successful",
                      "data": {
                        "token": "eyJhbGciOiJSUzI1NiIsImtpZCI6...",
                        "refreshToken": "AIzaSy...",
                        "user": {
                          "id": "92Mpw02FISb4tfIQvdz9IfbIRKJ2",
                          "name": "System Administrator",
                          "role": "admin"
                        },
                        "expiresIn": 3600
                      },
                      "timestamp": "2025-11-08T00:44:10.812Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Missing or invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "missingFields": {
                    "summary": "Missing Required Fields",
                    "value": {
                      "success": false,
                      "message": "Email and password are required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid credentials",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "invalidCredentials": {
                    "summary": "Invalid Credentials",
                    "value": {
                      "success": false,
                      "message": "Invalid email or password"
                    }
                  },
                  "accountDeactivated": {
                    "summary": "Account Deactivated",
                    "value": {
                      "success": false,
                      "message": "Account is deactivated"
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/profile": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Get user profile",
        "description": "Retrieve the authenticated user's profile information",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Authentication"],
        "summary": "Update user profile",
        "description": "Update the authenticated user's profile information",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Updated full name",
                    "example": "John Doe"
                  },
                  "displayName": {
                    "type": "string",
                    "description": "Updated display name (alias for name)",
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Updated email address",
                    "example": "john.doe@example.com"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Updated phone number",
                    "example": "+1234567890"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date",
                    "description": "Date of birth (ISO format or dd/mm/yyyy)",
                    "example": "1990-01-15"
                  },
                  "address": {
                    "type": "string",
                    "description": "Updated address",
                    "example": "123 Farm Street, City, Country"
                  },
                  "bio": {
                    "type": "string",
                    "description": "User bio/description",
                    "example": "Experienced farm manager with 10 years in poultry farming"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/profile/avatar": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Upload user avatar",
        "description": "Upload a profile picture/avatar for the authenticated user. Accepts image files (JPEG, PNG, GIF, WebP) up to 5MB. Old avatar will be automatically replaced.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": ["avatar"],
                "properties": {
                  "avatar": {
                    "type": "string",
                    "format": "binary",
                    "description": "Avatar image file (JPEG, PNG, GIF, or WebP, max 5MB)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Avatar uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "avatar": {
                              "type": "string",
                              "description": "Path to the uploaded avatar file",
                              "example": "/uploads/avatars/avatar-user_123-1234567890.jpg"
                            },
                            "user": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "avatar": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file type or no file uploaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Authentication"],
        "summary": "Delete user avatar",
        "description": "Delete the authenticated user's profile picture/avatar",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Avatar deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "No avatar found to delete",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh-token": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Refresh authentication token",
        "description": "Refresh an expired or expiring authentication token",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["refreshToken"],
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "description": "Valid refresh token"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "token": {
                              "type": "string",
                              "description": "New access token"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Invalid refresh token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/verify-token": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Verify authentication token",
        "description": "Verify if the provided token is valid and active",
        "security": [],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Token to verify"
          }
        ],
        "responses": {
          "200": {
            "description": "Token is valid",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "valid": {
                              "type": "boolean"
                            },
                            "user": {
                              "$ref": "#/components/schemas/User"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Invalid token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/change-password": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Change user password",
        "description": "Change the authenticated user's password",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["currentPassword", "newPassword"],
                "properties": {
                  "currentPassword": {
                    "type": "string",
                    "description": "Current password"
                  },
                  "newPassword": {
                    "type": "string",
                    "minLength": 6,
                    "description": "New password (minimum 6 characters)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid password",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid current password",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Logout user",
        "description": "Logout the authenticated user and invalidate their token",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/revoke-token": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Revoke user token (Admin only)",
        "description": "Revoke a specific user's authentication token. Requires admin privileges.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["userId"],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "ID of the user whose token should be revoked"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token revoked successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin privileges required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": ["Users"],
        "summary": "Get list of users",
        "description": "Retrieve a paginated list of users with optional filtering by role, status, and search",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of items per page"
          },
          {
            "name": "role",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["Admin", "Manager", "Worker", "admin", "manager", "worker"]
            },
            "description": "Filter by role"
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["active", "inactive"]
            },
            "description": "Filter by status"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search by name, email, or phone"
          }
        ],
        "responses": {
          "200": {
            "description": "Users retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Create a new user",
        "description": "Create/add a new user. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "email", "role", "password"],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "User display name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  },
                  "phone": {
                    "type": "string",
                    "description": "User phone number"
                  },
                  "role": {
                    "type": "string",
                    "enum": ["Admin", "Manager", "Worker", "admin", "manager", "worker"],
                    "description": "User role"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "minLength": 8,
                    "description": "User password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/users/stats": {
      "get": {
        "tags": ["Users"],
        "summary": "Get user statistics",
        "description": "Get user statistics including total users, users by role, active/inactive counts, and users by farm",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}": {
      "get": {
        "tags": ["Users"],
        "summary": "Get user by ID",
        "description": "Retrieve a specific user by their ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID"
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Users"],
        "summary": "Update an existing user",
        "description": "Update user information including name, email, phone, role, and status",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "User display name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  },
                  "phone": {
                    "type": "string",
                    "description": "User phone number"
                  },
                  "role": {
                    "type": "string",
                    "enum": ["Admin", "Manager", "Worker", "admin", "manager", "worker"],
                    "description": "User role"
                  },
                  "status": {
                    "type": "string",
                    "enum": ["active", "inactive"],
                    "description": "User account status"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Users"],
        "summary": "Delete a user",
        "description": "Delete a user from the system. Requires admin role. Cannot delete your own account.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID"
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/birds": {
      "get": {
        "tags": ["Birds"],
        "summary": "Get all birds",
        "description": "Retrieve a paginated list of birds with optional filtering by health status, pen, breed, and date range.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of items per page"
          },
          {
            "name": "healthStatus",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["healthy", "sick", "quarantine"]
            },
            "description": "Filter by health status"
          },
          {
            "name": "penId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by pen ID"
          },
          {
            "name": "breed",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by breed"
          }
        ],
        "responses": {
          "200": {
            "description": "Birds retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Bird"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Birds"],
        "summary": "Create a new bird record",
        "description": "Add a new bird to the system. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["breed", "age", "penId", "quantity"],
                "properties": {
                  "breed": {
                    "type": "string",
                    "description": "Bird breed or type",
                    "example": "Lohmann Brown"
                  },
                  "age": {
                    "type": "integer",
                    "description": "Bird age in days",
                    "minimum": 0,
                    "example": 120
                  },
                  "penId": {
                    "type": "string",
                    "description": "Pen identifier where bird will be housed",
                    "example": "pen-001"
                  },
                  "quantity": {
                    "type": "integer",
                    "description": "Number of birds",
                    "minimum": 1,
                    "example": 50
                  },
                  "healthStatus": {
                    "type": "string",
                    "enum": ["healthy", "sick", "quarantine"],
                    "default": "healthy",
                    "description": "Initial health status"
                  },
                  "lastCheckup": {
                    "type": "string",
                    "format": "date",
                    "description": "Date of last health checkup",
                    "example": "2025-11-08"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Additional notes",
                    "example": "New batch, monitor closely"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Bird created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/birds/stats": {
      "get": {
        "tags": ["Birds"],
        "summary": "Get bird statistics",
        "description": "Retrieve bird statistics including total birds, healthy birds, sick/quarantine birds, and average egg production per bird per year",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins to view other farms' stats)"
          }
        ],
        "responses": {
          "200": {
            "description": "Bird statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "totalBirds": {
                              "type": "integer",
                              "description": "Total number of birds (sum of all bird quantities)",
                              "example": 500
                            },
                            "healthyBirds": {
                              "type": "integer",
                              "description": "Number of healthy birds",
                              "example": 450
                            },
                            "sickQuarantineBirds": {
                              "type": "integer",
                              "description": "Number of sick or quarantined birds",
                              "example": 50
                            },
                            "avgEggProduction": {
                              "type": "number",
                              "format": "float",
                              "description": "Average egg production per bird per year (calculated from last year's collections)",
                              "example": 280.5
                            }
                          },
                          "required": ["totalBirds", "healthyBirds", "sickQuarantineBirds", "avgEggProduction"]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/collections": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get egg collections list",
        "description": "Retrieve all egg collection records with optional filtering by date, shift, pen, grade, and search.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter by collection date (ISO date format: YYYY-MM-DD)"
          },
          {
            "name": "shift",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["Morning", "Afternoon", "Evening"]
            },
            "description": "Filter by shift (Morning, Afternoon, Evening)"
          },
          {
            "name": "pen",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by pen location (e.g., 'A1', 'B2', 'C3')"
          },
          {
            "name": "grade",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["AA", "A", "B", "C"]
            },
            "description": "Filter by egg grade (AA, A, B, C)"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search by collector name or pen location (case-insensitive)"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 100,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of items per page"
          },
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for filtering collections (YYYY-MM-DD)"
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for filtering collections (YYYY-MM-DD)"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg collections retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/EggCollection"
                              }
                            },
                            "pagination": {
                              "type": "object",
                              "properties": {
                                "page": {
                                  "type": "integer"
                                },
                                "limit": {
                                  "type": "integer"
                                },
                                "total": {
                                  "type": "integer"
                                },
                                "totalPages": {
                                  "type": "integer"
                                },
                                "hasNext": {
                                  "type": "boolean"
                                },
                                "hasPrev": {
                                  "type": "boolean"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Collections"],
        "summary": "Record new egg collection",
        "description": "Create a new egg collection record. Supports both new format (quantity, grade, collector) and legacy format (collected, quality, collectedBy, gradeA, gradeB, cracked). Workers can add eggs.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "type": "object",
                    "required": ["date", "shift", "pen", "quantity", "grade"],
                    "properties": {
                      "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Collection date (ISO format: YYYY-MM-DD)",
                        "example": "2025-11-10"
                      },
                      "shift": {
                        "type": "string",
                        "enum": ["Morning", "Afternoon", "Evening"],
                        "description": "Shift when collection occurred",
                        "example": "Morning"
                      },
                      "pen": {
                        "type": "string",
                        "description": "Pen location identifier",
                        "example": "A1"
                      },
                      "quantity": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Number of eggs collected",
                        "example": 150
                      },
                      "grade": {
                        "type": "string",
                        "enum": ["AA", "A", "B", "C"],
                        "description": "Egg grade",
                        "example": "A"
                      },
                      "avgWeight": {
                        "type": "string",
                        "description": "Average weight per egg (e.g., '58g')",
                        "example": "58g"
                      },
                      "collector": {
                        "type": "string",
                        "description": "Name of person who collected eggs",
                        "example": "John Doe"
                      },
                      "notes": {
                        "type": "string",
                        "description": "Additional notes",
                        "example": "Good quality eggs"
                      },
                      "farmId": {
                        "type": "string",
                        "description": "Farm ID (optional, uses user's farmId if not provided)"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "required": ["date", "shift", "pen", "gradeA", "collectedBy"],
                    "description": "Legacy format for backward compatibility",
                    "properties": {
                      "date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-11-10"
                      },
                      "shift": {
                        "type": "string",
                        "enum": ["Morning", "Afternoon", "Evening"]
                      },
                      "pen": {
                        "type": "string",
                        "example": "A1"
                      },
                      "gradeA": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Quantity for grade A",
                        "example": 150
                      },
                      "gradeB": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Quantity for grade B (optional)",
                        "example": 20
                      },
                      "cracked": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Number of broken eggs (optional)",
                        "example": 2
                      },
                      "collectedBy": {
                        "type": "string",
                        "description": "Name of collector",
                        "example": "John Doe"
                      },
                      "notes": {
                        "type": "string"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Egg collection recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggCollection"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/collections/{id}": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get egg collection by ID",
        "description": "Retrieve a specific egg collection by its ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Collection ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Collection retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggCollection"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Collections"],
        "summary": "Update egg collection",
        "description": "Update an existing egg collection record. Only managers and admins can edit.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Collection ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "date": {
                    "type": "string",
                    "format": "date"
                  },
                  "shift": {
                    "type": "string",
                    "enum": ["Morning", "Afternoon", "Evening"]
                  },
                  "pen": {
                    "type": "string"
                  },
                  "quantity": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "grade": {
                    "type": "string",
                    "enum": ["AA", "A", "B", "C"]
                  },
                  "avgWeight": {
                    "type": "string"
                  },
                  "collector": {
                    "type": "string"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Egg collection updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggCollection"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Collections"],
        "summary": "Delete egg collection",
        "description": "Remove an egg collection record. Only managers and admins can delete.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Collection ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg collection deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/collections/stats": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get egg collection statistics",
        "description": "Get aggregated statistics for dashboard cards including today's collection, weekly/monthly totals, averages, and trends.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg collection statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/collections/production-chart": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get production chart data",
        "description": "Retrieve production data for chart visualization. Returns data in multiple formats for different chart libraries.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "7d"
            },
            "description": "Time period for data (default: '7d', options: '7d', '30d', '90d', '1y')"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Production chart data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductionChartData"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/feed": {
      "get": {
        "tags": ["Feed"],
        "summary": "Get Feed Inventory List",
        "description": "Retrieve all feed items with optional filtering by type, status, search, and supplier",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["layer", "starter", "grower", "finisher", "supplement"]
            },
            "description": "Filter by feed type"
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["In Stock", "Low Stock", "Out of Stock"]
            },
            "description": "Filter by status"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search by name or supplier"
          },
          {
            "name": "supplier",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by supplier name"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 100,
              "minimum": 1,
              "maximum": 1000
            },
            "description": "Number of items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Feed inventory retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/FeedInventory"
                              }
                            },
                            "total": {
                              "type": "integer"
                            },
                            "pagination": {
                              "type": "object",
                              "properties": {
                                "page": {"type": "integer"},
                                "limit": {"type": "integer"},
                                "total": {"type": "integer"},
                                "totalPages": {"type": "integer"},
                                "hasNext": {"type": "boolean"},
                                "hasPrev": {"type": "boolean"}
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Feed"],
        "summary": "Add New Feed Item",
        "description": "Create a new feed inventory item",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "type", "supplier", "quantity", "unit"],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Feed item name",
                    "example": "Layer Feed Premium"
                  },
                  "type": {
                    "type": "string",
                    "enum": ["layer", "starter", "grower", "finisher", "supplement"],
                    "description": "Feed type",
                    "example": "layer"
                  },
                  "supplier": {
                    "type": "string",
                    "description": "Supplier name",
                    "example": "ABC Feed Company"
                  },
                  "quantity": {
                    "type": "number",
                    "description": "Initial stock quantity",
                    "minimum": 0,
                    "example": 500
                  },
                  "unit": {
                    "type": "string",
                    "description": "Unit of measurement (kg, lbs, tons, etc.)",
                    "example": "kg"
                  },
                  "costPerUnit": {
                    "type": "number",
                    "description": "Cost per unit",
                    "minimum": 0,
                    "example": 25.50
                  },
                  "expiryDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Expiry date (ISO date)",
                    "example": "2025-12-31"
                  },
                  "location": {
                    "type": "string",
                    "description": "Storage location",
                    "example": "Warehouse A, Shelf 3"
                  },
                  "batchNumber": {
                    "type": "string",
                    "description": "Batch number",
                    "example": "BATCH-2025-001"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Additional notes",
                    "example": "High quality feed for layers"
                  },
                  "maxCapacity": {
                    "type": "number",
                    "description": "Maximum storage capacity",
                    "minimum": 0,
                    "example": 1000
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Feed item created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FeedInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Validation error - missing required fields"
          },
          "403": {
            "description": "Insufficient permissions - Manager or Admin role required"
          }
        }
      }
    },
    "/feed/stats": {
      "get": {
        "tags": ["Feed"],
        "summary": "Get Feed Statistics",
        "description": "Get aggregated statistics for dashboard cards including total items, low stock items, out of stock items, total value, total stock, and daily consumption",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Feed statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FeedStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/feed/usage": {
      "post": {
        "tags": ["Feed"],
        "summary": "Record Feed Usage",
        "description": "Record when feed is consumed/used",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeedUsageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feed usage recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FeedInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Validation error or insufficient stock"
          }
        }
      },
      "get": {
        "tags": ["Feed"],
        "summary": "Get Feed Usage History",
        "description": "Retrieve feed usage records with optional filtering",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "feedId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by specific feed item"
          },
          {
            "name": "dateFrom",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date filter (ISO date)"
          },
          {
            "name": "dateTo",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date filter (ISO date)"
          }
        ],
        "responses": {
          "200": {
            "description": "Feed usage history retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {"type": "string"},
                              "feedId": {"type": "string"},
                              "quantity": {"type": "number"},
                              "pen": {"type": "string"},
                              "usedBy": {"type": "string"},
                              "date": {"type": "string", "format": "date"},
                              "notes": {"type": "string"},
                              "createdAt": {"type": "string", "format": "date-time"}
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/feed/{id}": {
      "get": {
        "tags": ["Feed"],
        "summary": "Get Feed Item by ID",
        "description": "Retrieve a specific feed item by its ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Feed item ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Feed item retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FeedInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Feed item not found"
          }
        }
      },
      "put": {
        "tags": ["Feed"],
        "summary": "Update Feed Item",
        "description": "Update an existing feed item (for Edit functionality)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Feed item ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {"type": "string"},
                  "type": {"type": "string", "enum": ["layer", "starter", "grower", "finisher", "supplement"]},
                  "supplier": {"type": "string"},
                  "stock": {"type": "number", "minimum": 0},
                  "maxCapacity": {"type": "number", "minimum": 0},
                  "unit": {"type": "string"},
                  "costPerUnit": {"type": "number", "minimum": 0},
                  "expiryDate": {"type": "string", "format": "date"},
                  "location": {"type": "string"},
                  "status": {"type": "string", "enum": ["In Stock", "Low Stock", "Out of Stock"]},
                  "notes": {"type": "string"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feed item updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FeedInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Insufficient permissions - Manager or Admin role required"
          },
          "404": {
            "description": "Feed item not found"
          }
        }
      },
      "delete": {
        "tags": ["Feed"],
        "summary": "Delete Feed Item",
        "description": "Remove a feed item from inventory",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Feed item ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Feed item deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "403": {
            "description": "Insufficient permissions - Manager or Admin role required"
          },
          "404": {
            "description": "Feed item not found"
          }
        }
      }
    },
    "/feed/{id}/reorder": {
      "post": {
        "tags": ["Feed"],
        "summary": "Create Reorder Request",
        "description": "Create a reorder request for low/out of stock items",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Feed item ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeedReorderRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reorder request created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "description": "Reorder request ID",
                              "example": "reorder-123"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Validation error - missing required fields"
          },
          "403": {
            "description": "Insufficient permissions - Manager or Admin role required"
          },
          "404": {
            "description": "Feed item not found"
          }
        }
      }
    },
    "/medicine": {
      "get": {
        "tags": ["Medicine"],
        "summary": "Get medicine inventory list",
        "description": "Retrieve list of all medicines in inventory with optional filtering by type, status, and search",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["vaccine", "antibiotic", "vitamin", "treatment"]
            },
            "description": "Filter by medicine type"
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["In Stock", "Low Stock", "Out of Stock"]
            },
            "description": "Filter by stock status"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search by medicine name (case-insensitive partial match)"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 50,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Items per page"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Medicine inventory retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/MedicineInventory"
                              }
                            },
                            "pagination": {
                              "$ref": "#/components/schemas/Pagination"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Medicine"],
        "summary": "Add new medicine",
        "description": "Add a new medicine to inventory",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "type", "supplier", "quantity", "unit", "expiryDate"],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Antibiotic X"
                  },
                  "type": {
                    "type": "string",
                    "enum": ["vaccine", "antibiotic", "vitamin", "treatment"],
                    "example": "antibiotic"
                  },
                  "supplier": {
                    "type": "string",
                    "example": "Pharma Corp"
                  },
                  "quantity": {
                    "type": "number",
                    "example": 50
                  },
                  "unit": {
                    "type": "string",
                    "example": "ml"
                  },
                  "expiryDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-12-31"
                  },
                  "costPerUnit": {
                    "type": "number",
                    "example": 2.50
                  },
                  "location": {
                    "type": "string",
                    "example": "Refrigerator A"
                  },
                  "batchNumber": {
                    "type": "string",
                    "example": "BATCH-2024-001"
                  },
                  "notes": {
                    "type": "string",
                    "example": "Store in cool, dry place"
                  },
                  "usage": {
                    "type": "string",
                    "example": "Oral"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Medicine added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MedicineInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/medicine/stats": {
      "get": {
        "tags": ["Medicine"],
        "summary": "Get medicine statistics",
        "description": "Retrieve aggregated statistics about medicine inventory",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Medicine statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MedicineStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/medicine/treatments": {
      "get": {
        "tags": ["Medicine"],
        "summary": "Get treatment history",
        "description": "Retrieve history of administered treatments",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "birdGroup",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by bird group ID"
          },
          {
            "name": "medicine",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by medicine name or ID"
          },
          {
            "name": "dateFrom",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date filter (ISO date: YYYY-MM-DD)"
          },
          {
            "name": "dateTo",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date filter (ISO date: YYYY-MM-DD)"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 50
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Treatment history retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/TreatmentRecord"
                              }
                            },
                            "pagination": {
                              "$ref": "#/components/schemas/Pagination"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Medicine"],
        "summary": "Record treatment",
        "description": "Record a new treatment administration",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["medicineId", "birdGroup", "dosage", "administeredBy", "date", "reason"],
                "properties": {
                  "medicineId": {
                    "type": "string",
                    "example": "medicine-123"
                  },
                  "birdGroup": {
                    "type": "string",
                    "example": "pen-A1"
                  },
                  "dosage": {
                    "type": "string",
                    "example": "5ml"
                  },
                  "administeredBy": {
                    "type": "string",
                    "example": "user-123"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-11-10"
                  },
                  "reason": {
                    "type": "string",
                    "example": "Preventive treatment for respiratory infection"
                  },
                  "outcome": {
                    "type": "string",
                    "example": "Successful"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Treatment recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/TreatmentRecord"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/medicine/{id}": {
      "get": {
        "tags": ["Medicine"],
        "summary": "Get medicine by ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Medicine item retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MedicineInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Medicine"],
        "summary": "Update medicine",
        "description": "Update an existing medicine item (managers/admins only)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "enum": ["vaccine", "antibiotic", "vitamin", "treatment"]
                  },
                  "supplier": {
                    "type": "string"
                  },
                  "stock": {
                    "type": "number"
                  },
                  "unit": {
                    "type": "string"
                  },
                  "expiryDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "costPerUnit": {
                    "type": "number"
                  },
                  "location": {
                    "type": "string"
                  },
                  "batchNumber": {
                    "type": "string"
                  },
                  "notes": {
                    "type": "string"
                  },
                  "usage": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Medicine updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MedicineInventory"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Medicine"],
        "summary": "Delete medicine",
        "description": "Delete a medicine item from inventory (managers/admins only)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Medicine deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/eggs": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get egg collections list",
        "description": "Retrieve all egg collection records with optional filtering by date, shift, pen, grade, and search. Alias for /collections.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter by collection date (ISO date format: YYYY-MM-DD)"
          },
          {
            "name": "shift",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["Morning", "Afternoon", "Evening"]
            },
            "description": "Filter by shift (Morning, Afternoon, Evening)"
          },
          {
            "name": "pen",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filter by pen location (e.g., 'A1', 'B2', 'C3')"
          },
          {
            "name": "grade",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["AA", "A", "B", "C"]
            },
            "description": "Filter by egg grade (AA, A, B, C)"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search by collector name or pen location (case-insensitive)"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 100,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of items per page"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg collections retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/EggCollection"
                              }
                            },
                            "pagination": {
                              "type": "object",
                              "properties": {
                                "page": {"type": "integer"},
                                "limit": {"type": "integer"},
                                "total": {"type": "integer"},
                                "totalPages": {"type": "integer"},
                                "hasNext": {"type": "boolean"},
                                "hasPrev": {"type": "boolean"}
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Collections"],
        "summary": "Record new egg collection",
        "description": "Create a new egg collection record. Supports both new format (quantity, grade, collector) and legacy format (collected, quality, collectedBy, gradeA, gradeB, cracked). Workers can add eggs. Alias for /collections.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "type": "object",
                    "required": ["date", "shift", "pen", "quantity", "grade"],
                    "properties": {
                      "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Collection date (ISO format: YYYY-MM-DD)",
                        "example": "2025-11-10"
                      },
                      "shift": {
                        "type": "string",
                        "enum": ["Morning", "Afternoon", "Evening"],
                        "description": "Shift when collection occurred",
                        "example": "Morning"
                      },
                      "pen": {
                        "type": "string",
                        "description": "Pen location identifier",
                        "example": "A1"
                      },
                      "quantity": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Number of eggs collected",
                        "example": 150
                      },
                      "grade": {
                        "type": "string",
                        "enum": ["AA", "A", "B", "C"],
                        "description": "Egg grade",
                        "example": "A"
                      },
                      "avgWeight": {
                        "type": "string",
                        "description": "Average weight per egg (e.g., '58g')",
                        "example": "58g"
                      },
                      "collector": {
                        "type": "string",
                        "description": "Name of person who collected eggs",
                        "example": "John Doe"
                      },
                      "notes": {
                        "type": "string",
                        "description": "Additional notes",
                        "example": "Good quality eggs"
                      },
                      "farmId": {
                        "type": "string",
                        "description": "Farm ID (optional, uses user's farmId if not provided)"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "required": ["date", "shift", "pen", "gradeA", "collectedBy"],
                    "description": "Legacy format for backward compatibility",
                    "properties": {
                      "date": {
                        "type": "string",
                        "format": "date",
                        "example": "2025-11-10"
                      },
                      "shift": {
                        "type": "string",
                        "enum": ["Morning", "Afternoon", "Evening"]
                      },
                      "pen": {
                        "type": "string",
                        "example": "A1"
                      },
                      "gradeA": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Quantity for grade A",
                        "example": 150
                      },
                      "gradeB": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Quantity for grade B (optional)",
                        "example": 20
                      },
                      "cracked": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Number of broken eggs (optional)",
                        "example": 2
                      },
                      "collectedBy": {
                        "type": "string",
                        "description": "Name of collector",
                        "example": "John Doe"
                      },
                      "notes": {
                        "type": "string"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Egg collection recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggCollection"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/eggs/{id}": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get egg collection by ID",
        "description": "Retrieve a specific egg collection by its ID. Alias for /collections/{id}.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Collection ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Collection retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggCollection"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Collections"],
        "summary": "Update egg collection",
        "description": "Update an existing egg collection record. Only managers and admins can edit. Alias for /collections/{id}.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Collection ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "date": {"type": "string", "format": "date"},
                  "shift": {"type": "string", "enum": ["Morning", "Afternoon", "Evening"]},
                  "pen": {"type": "string"},
                  "quantity": {"type": "integer", "minimum": 0},
                  "grade": {"type": "string", "enum": ["AA", "A", "B", "C"]},
                  "avgWeight": {"type": "string"},
                  "collector": {"type": "string"},
                  "notes": {"type": "string"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Egg collection updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggCollection"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Collections"],
        "summary": "Delete egg collection",
        "description": "Remove an egg collection record. Only managers and admins can delete. Alias for /collections/{id}.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Collection ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg collection deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "id": {"type": "string"}
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/eggs/stats": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get egg collection statistics",
        "description": "Get aggregated statistics for dashboard cards including today's collection, weekly/monthly totals, averages, and trends. Alias for /collections/stats.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg collection statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/eggs/production-chart": {
      "get": {
        "tags": ["Collections"],
        "summary": "Get production chart data",
        "description": "Retrieve production data for chart visualization. Returns data in multiple formats for different chart libraries. Alias for /collections/production-chart.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "7d"
            },
            "description": "Time period for data (default: '7d', options: '7d', '30d', '90d', '1y')"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Production chart data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductionChartData"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/dashboard/overview": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get dashboard overview",
        "description": "Get main dashboard overview data including today's egg count, total birds, feed items, and medicine items",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for super admins only)"
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard overview retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/dashboard/activity": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get recent activity feed",
        "description": "Get recent activity feed including egg collections, feed usage, medicine administration, and alerts",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Maximum number of activities to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Recent activity retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/dashboard/performance": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get performance metrics",
        "description": "Get performance metrics including production rate, feed efficiency, mortality rate, and average daily production",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (for super admins only)"
          },
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for performance metrics"
          }
        ],
        "responses": {
          "200": {
            "description": "Performance metrics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/dashboard/alerts": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get system alerts",
        "description": "Get health alerts and notifications including low stock feed and expired medicine",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "System alerts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/stats/dashboard": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get dashboard overview statistics",
        "description": "Retrieve comprehensive dashboard statistics including total birds, today's eggs, revenue, performance score, feed stock, and health alerts",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins to view other farms' stats)"
          },
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for statistics"
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DashboardStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/daily": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get daily statistics",
        "description": "Retrieve daily statistics including eggs collected, bird count, feed consumed, revenue, and expenses",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Date for statistics (ISO date format: YYYY-MM-DD). Defaults to today if not provided"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Daily statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DailyStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/weekly": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get weekly statistics",
        "description": "Retrieve weekly statistics including total eggs, average daily, revenue, expenses, and net profit",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Weekly statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/WeeklyStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/monthly": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get monthly statistics",
        "description": "Retrieve monthly statistics including total eggs, average daily, revenue, expenses, net profit, and profit margin",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "month",
            "in": "query",
            "schema": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}$"
            },
            "description": "Month in YYYY-MM format. Defaults to current month if not provided",
            "example": "2025-01"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Monthly statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MonthlyStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/trends": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get performance trends",
        "description": "Retrieve performance trends data comparing current period with previous period for egg production, feed efficiency, and revenue",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for trend analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Performance trends retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PerformanceTrends"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/eggs/grade-distribution": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get egg grade distribution",
        "description": "Retrieve egg grade distribution statistics showing count and percentage for each grade (AA, A, B, C) and cracked eggs",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for grade distribution analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Grade distribution retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/GradeDistribution"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/pens/performance": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get pen performance metrics",
        "description": "Retrieve performance metrics for each pen including bird count, egg production, efficiency, and ranking",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for performance analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Pen performance retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PenPerformance"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/collectors/performance": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get collector performance metrics",
        "description": "Retrieve performance metrics for each collector including total collections, average per day, efficiency, and ranking",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for performance analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Collector performance retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CollectorPerformance"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/eggs/production": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get egg production statistics",
        "description": "Retrieve comprehensive egg production statistics including total production, average daily, peak day, and grade distribution",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for production statistics"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Egg production statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EggProductionStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/eggs/trends": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get production trends",
        "description": "Retrieve egg production trends over time with data points showing quantity and grade breakdown by date",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for trend analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Production trends retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductionTrends"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/eggs/daily-summary": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get daily production summary",
        "description": "Retrieve daily production summary including total eggs, breakdown by grade and by shift",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Date for summary (ISO date format: YYYY-MM-DD). Defaults to today if not provided"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Daily production summary retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DailyProductionSummary"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/eggs/monthly-summary": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get monthly production summary",
        "description": "Retrieve monthly production summary including total eggs, average daily, peak day, and grade breakdown",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "month",
            "in": "query",
            "schema": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}$"
            },
            "description": "Month in YYYY-MM format. Defaults to current month if not provided",
            "example": "2025-01"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Monthly production summary retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MonthlyProductionSummary"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/financial/summary": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get financial summary",
        "description": "Retrieve financial summary statistics including total revenue, total expenses, net profit, and profit margin. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for financial summary"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Financial summary retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FinancialSummary"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (manager or admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/financial/revenue-trends": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get revenue trends",
        "description": "Retrieve revenue trends over time with data points showing daily revenue. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for revenue trend analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Revenue trends retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/RevenueTrends"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (manager or admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/financial/cost-analysis": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get cost analysis",
        "description": "Retrieve cost analysis breakdown by category (feed, medicine, labor, utilities, other) with cost per egg and cost per bird. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for cost analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Cost analysis retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CostAnalysis"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (manager or admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/financial/profit-margins": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get profit margins",
        "description": "Retrieve profit margin analysis including gross margin, net margin, and breakdown by period. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for profit margin analysis"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Profit margins retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProfitMargins"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (manager or admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/performance/overview": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get performance overview",
        "description": "Retrieve overall performance metrics including overall score, production efficiency, feed efficiency, health score, and financial health",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for performance overview"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Performance overview retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PerformanceOverview"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/performance/efficiency": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get efficiency metrics",
        "description": "Retrieve efficiency metrics including feed efficiency, production efficiency, labor efficiency, and resource utilization",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for efficiency metrics"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Efficiency metrics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EfficiencyMetrics"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/performance/productivity": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get productivity metrics",
        "description": "Retrieve productivity metrics including eggs per bird, eggs per day, collection rate, and quality score",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for productivity metrics"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Productivity metrics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ProductivityMetrics"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/comparative/period": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get period comparison",
        "description": "Compare statistics across different periods showing current period vs previous period metrics and percentage changes",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for comparison"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Period comparison retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PeriodComparison"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/comparative/year-over-year": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get year-over-year comparison",
        "description": "Compare current year with previous year showing metrics and percentage changes",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Year-over-year comparison retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/YearOverYearComparison"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/comparative/benchmarks": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get benchmark comparison",
        "description": "Compare farm performance against industry benchmarks for eggs per bird, feed efficiency, and mortality rate",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["7d", "30d", "90d", "1y"],
              "default": "30d"
            },
            "description": "Time period for benchmark comparison"
          },
          {
            "name": "farmId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Farm ID (optional, only for admins)"
          }
        ],
        "responses": {
          "200": {
            "description": "Benchmark comparison retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/BenchmarkComparison"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/export/templates": {
      "get": {
        "tags": ["Statistics"],
        "summary": "Get report templates",
        "description": "Retrieve available report templates for statistics export. Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Report templates retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ReportTemplate"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (manager or admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/stats/export/report": {
      "post": {
        "tags": ["Statistics"],
        "summary": "Export statistics report",
        "description": "Export statistics report in specified format (PDF, Excel, or CSV). Requires manager or admin role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportReportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Report generation started or completed",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ExportReportResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid format or missing required fields",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions (manager or admin required)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/reports/collections": {
      "get": {
        "tags": ["Reports"],
        "summary": "Get collection reports",
        "responses": {
          "200": {
            "description": "Collection reports retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    },
    "/upload/image": {
      "post": {
        "tags": ["Upload"],
        "summary": "Upload image file",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          }
        }
      }
    }
  }
}